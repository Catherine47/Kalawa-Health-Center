(()=>{var e={};e.id=626,e.ids=[626],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6702:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c}),s(4687),s(3408),s(5866);var a=s(3191),r=s(8716),n=s(7922),i=s.n(n),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4687)),"C:\\Users\\Happiness Cate\\Desktop\\ehr-frontend\\app\\login\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3408)),"C:\\Users\\Happiness Cate\\Desktop\\ehr-frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\Happiness Cate\\Desktop\\ehr-frontend\\app\\login\\page.tsx"],m="/login/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4684:(e,t,s)=>{Promise.resolve().then(s.bind(s,3628))},3628:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>F});var a=s(326),r=s(7577),n=s(5047),i=s(434),l=s(2884),o=s(2600),c=s(3071),d=s(772),m=s(4432),u=s(1048),x=s(8762),p=s(3273),h=s(567),g=s(3427),f=s(1813),v=s(9635),j=s(3526),b=s(8378),y=s(7427),N=s(1291),w=s(5932),k=s(9015),C=s(1216),P=s(3742);let _=(0,s(2881).Z)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);var Z=s(165);function F(){let[e,t]=(0,r.useState)("patient"),[s,F]=(0,r.useState)({username:"",email:"",password:"",rememberMe:!1,twoFactorCode:""}),[M,S]=(0,r.useState)(!1),[D,A]=(0,r.useState)(""),[z,I]=(0,r.useState)(!1),[V,q]=(0,r.useState)({score:0,feedback:""}),{login:E,isLoading:R}=(0,f.a)(),T=(0,n.useRouter)(),U=e=>{let t=0,s="";return e.length>=8&&t++,/[a-z]/.test(e)&&t++,/[A-Z]/.test(e)&&t++,/\d/.test(e)&&t++,/[!@#$%^&*(),.?":{}|<>]/.test(e)&&t++,s=e.length<8?"Password must be at least 8 characters":t<3?"Weak - Add uppercase, numbers, and special characters":t<4?"Medium - Add more character types":4===t?"Strong - Consider adding special characters":"Very Strong",{score:t,feedback:s}},$=(e,t)=>{F(s=>({...s,[e]:t})),A(""),"password"===e&&"string"==typeof t&&q(U(t))},W=e=>{t(e),A(""),I(!1);let s={patient:{username:"patient_user",email:"patient@kalawa.go.ke"},doctor:{username:"doctor_user",email:"doctor@kalawa.go.ke"},admin:{username:"admin_user",email:"admin@kalawa.go.ke"}};F(t=>({...t,username:s[e].username,email:s[e].email}))},H=async t=>{if(t.preventDefault(),A(""),s.password){let e=U(s.password);if(e.score<3){A("Password does not meet security requirements. "+e.feedback);return}}if(z){if(!s.twoFactorCode||6!==s.twoFactorCode.length){A("Please enter a valid 6-digit verification code.");return}"123456"===s.twoFactorCode?T.push({patient:"/dashboard",doctor:"/doctor-dashboard",admin:"/admin-dashboard"}[e]):A("Invalid verification code. Please try again.")}else await E(s.email,s.password,e)?(I(!0),A(""),console.log("[v0] 2FA code sent to user")):A("Invalid username/email or password. Please try again.")},L={patient:{title:"Patient Portal",description:"Access your health records and manage appointments",icon:v.Z,color:"blue"},doctor:{title:"Doctor Portal",description:"Manage patients and clinical workflows",icon:j.Z,color:"green"},admin:{title:"Admin Portal",description:"System administration and management",icon:b.Z,color:"purple"}}[e];return(0,a.jsxs)("div",{className:"min-h-screen",children:[a.jsx(l.Header,{}),a.jsx("section",{className:"py-20 bg-gradient-to-br from-primary/10 via-background to-accent/10",children:a.jsx("div",{className:"container mx-auto px-4",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,a.jsxs)("div",{className:"text-center space-y-4 mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-primary rounded-lg",children:a.jsx(y.Z,{className:"h-6 w-6 text-primary-foreground"})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-xl font-bold text-primary",children:"Kalawa Health Center"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"KEPH Level 4 Facility"})]})]}),a.jsx(h.C,{variant:"secondary",className:"w-fit mx-auto",children:z?"Two-Factor Authentication":"Secure Login"}),a.jsx("h1",{className:"text-3xl font-bold text-balance",children:z?"Verify Your Identity":"Welcome Back"}),a.jsx("p",{className:"text-muted-foreground",children:z?"Enter the 6-digit code sent to your registered device":"Choose your role and sign in to continue"})]}),(0,a.jsxs)(c.Zb,{children:[(0,a.jsxs)(c.Ol,{children:[a.jsx(c.ll,{className:"text-2xl text-center",children:z?"Two-Factor Authentication":"System Login"}),a.jsx(c.SZ,{className:"text-center",children:z?"Complete your secure login with verification code":"Select your role and enter your credentials"})]}),(0,a.jsxs)(c.aY,{children:[!z&&a.jsx(a.Fragment,{children:(0,a.jsxs)(g.mQ,{value:e,onValueChange:e=>W(e),className:"mb-6",children:[(0,a.jsxs)(g.dr,{className:"grid w-full grid-cols-3",children:[(0,a.jsxs)(g.SP,{value:"patient",className:"flex items-center gap-2",children:[a.jsx(v.Z,{className:"w-4 h-4"}),"Patient"]}),(0,a.jsxs)(g.SP,{value:"doctor",className:"flex items-center gap-2",children:[a.jsx(j.Z,{className:"w-4 h-4"}),"Doctor"]}),(0,a.jsxs)(g.SP,{value:"admin",className:"flex items-center gap-2",children:[a.jsx(b.Z,{className:"w-4 h-4"}),"Admin"]})]}),a.jsx(g.nU,{value:e,className:"mt-4",children:(0,a.jsxs)("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx(L.icon,{className:"w-5 h-5 text-primary"}),a.jsx("span",{className:"font-semibold",children:L.title})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:L.description})]})})]})}),(0,a.jsxs)("form",{onSubmit:H,className:"space-y-6",children:[D&&(0,a.jsxs)(p.bZ,{variant:"destructive",children:[a.jsx(N.Z,{className:"h-4 w-4"}),a.jsx(p.X,{children:D})]}),z?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-primary/10 rounded-full mx-auto mb-4",children:a.jsx(_,{className:"w-8 h-8 text-primary"})}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"We've sent a 6-digit verification code to your registered device."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(u._,{htmlFor:"twoFactorCode",children:"Verification Code"}),a.jsx(m.I,{id:"twoFactorCode",type:"text",placeholder:"Enter 6-digit code",value:s.twoFactorCode,onChange:e=>$("twoFactorCode",e.target.value.replace(/\D/g,"").slice(0,6)),className:"text-center text-lg tracking-widest",maxLength:6,required:!0}),a.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Demo code: 123456"})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[a.jsx(d.z,{type:"button",variant:"outline",size:"lg",className:"flex-1 bg-transparent",onClick:()=>I(!1),children:"Back"}),a.jsx(d.z,{type:"submit",size:"lg",className:"flex-1",disabled:R,children:R?"Verifying...":"Verify & Sign In"})]}),a.jsx("div",{className:"text-center",children:a.jsx(d.z,{variant:"link",className:"text-sm",children:"Resend code"})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(u._,{htmlFor:"username",children:"Username"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(v.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(m.I,{id:"username",type:"text",placeholder:"Enter your username",value:s.username,onChange:e=>$("username",e.target.value),className:"pl-10",required:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(u._,{htmlFor:"email",children:"Email Address"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(w.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(m.I,{id:"email",type:"email",placeholder:`${e}@kalawa.go.ke`,value:s.email,onChange:e=>$("email",e.target.value),className:"pl-10",required:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(u._,{htmlFor:"password",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(k.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(m.I,{id:"password",type:M?"text":"password",placeholder:"Enter your password",value:s.password,onChange:e=>$("password",e.target.value),className:"pl-10 pr-10",required:!0}),a.jsx(d.z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>S(!M),children:M?a.jsx(C.Z,{className:"h-4 w-4 text-muted-foreground"}):a.jsx(P.Z,{className:"h-4 w-4 text-muted-foreground"})})]}),s.password&&(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(e=>a.jsx("div",{className:`h-1 flex-1 rounded-full ${e<=V.score?V.score<=2?"bg-red-500":V.score<=3?"bg-yellow-500":"bg-green-500":"bg-muted"}`},e))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:V.feedback}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Must contain: 8+ characters, letters, numbers, and special characters"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(x.X,{id:"remember",checked:s.rememberMe,onCheckedChange:e=>$("rememberMe",e)}),a.jsx(u._,{htmlFor:"remember",className:"text-sm",children:"Remember me"})]}),a.jsx(i.default,{href:"/forgot-password",className:"text-sm text-primary hover:underline",children:"Forgot password?"})]}),a.jsx(d.z,{type:"submit",size:"lg",className:"w-full",disabled:R,children:R?"Signing in...":`Sign In as ${e.charAt(0).toUpperCase()+e.slice(1)}`})]}),!z&&"patient"===e&&(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or"})})]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Don't have an account?"," ",a.jsx(i.default,{href:"/register",className:"text-primary hover:underline font-medium",children:"Create account"})]})]})]})]})]}),a.jsx("div",{className:"mt-8 text-center",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Z.Z,{className:"h-4 w-4"}),a.jsx("span",{children:"Your data is protected with bank-level security"})]})}),a.jsx(c.Zb,{className:"mt-6 bg-muted/50",children:a.jsx(c.aY,{className:"pt-6",children:(0,a.jsxs)("div",{className:"text-center space-y-2",children:[a.jsx("h3",{className:"font-semibold text-sm",children:"Demo Credentials"}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground space-y-1",children:[(0,a.jsxs)("div",{children:["Username: ",e,"_user"]}),(0,a.jsxs)("div",{children:["Email: ",e,"@kalawa.go.ke"]}),a.jsx("div",{children:"Password: password123"})]})]})})})]})})}),a.jsx(o.$,{})]})}},3427:(e,t,s)=>{"use strict";s.d(t,{mQ:()=>F,nU:()=>D,dr:()=>M,SP:()=>S});var a=s(326),r=s(7577),n=s(2561),i=s(3095),l=s(5594),o=s(9815),c=s(5226),d=s(7124),m=s(2067),u=s(8957),x="Tabs",[p,h]=(0,i.b)(x,[l.Pc]),g=(0,l.Pc)(),[f,v]=p(x),j=r.forwardRef((e,t)=>{let{__scopeTabs:s,value:r,onValueChange:n,defaultValue:i,orientation:l="horizontal",dir:o,activationMode:x="automatic",...p}=e,h=(0,d.gm)(o),[g,v]=(0,m.T)({prop:r,onChange:n,defaultProp:i});return(0,a.jsx)(f,{scope:s,baseId:(0,u.M)(),value:g,onValueChange:v,orientation:l,dir:h,activationMode:x,children:(0,a.jsx)(c.WV.div,{dir:h,"data-orientation":l,...p,ref:t})})});j.displayName=x;var b="TabsList",y=r.forwardRef((e,t)=>{let{__scopeTabs:s,loop:r=!0,...n}=e,i=v(b,s),o=g(s);return(0,a.jsx)(l.fC,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:(0,a.jsx)(c.WV.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:t})})});y.displayName=b;var N="TabsTrigger",w=r.forwardRef((e,t)=>{let{__scopeTabs:s,value:r,disabled:i=!1,...o}=e,d=v(N,s),m=g(s),u=P(d.baseId,r),x=_(d.baseId,r),p=r===d.value;return(0,a.jsx)(l.ck,{asChild:!0,...m,focusable:!i,active:p,children:(0,a.jsx)(c.WV.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":x,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...o,ref:t,onMouseDown:(0,n.M)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(r)}),onKeyDown:(0,n.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(r)}),onFocus:(0,n.M)(e.onFocus,()=>{let e="manual"!==d.activationMode;p||i||!e||d.onValueChange(r)})})})});w.displayName=N;var k="TabsContent",C=r.forwardRef((e,t)=>{let{__scopeTabs:s,value:n,forceMount:i,children:l,...d}=e,m=v(k,s),u=P(m.baseId,n),x=_(m.baseId,n),p=n===m.value,h=r.useRef(p);return r.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(o.z,{present:i||p,children:({present:s})=>(0,a.jsx)(c.WV.div,{"data-state":p?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":u,hidden:!s,id:x,tabIndex:0,...d,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:s&&l})})});function P(e,t){return`${e}-trigger-${t}`}function _(e,t){return`${e}-content-${t}`}C.displayName=k;var Z=s(7863);function F({className:e,...t}){return a.jsx(j,{"data-slot":"tabs",className:(0,Z.cn)("flex flex-col gap-2",e),...t})}function M({className:e,...t}){return a.jsx(y,{"data-slot":"tabs-list",className:(0,Z.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function S({className:e,...t}){return a.jsx(w,{"data-slot":"tabs-trigger",className:(0,Z.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function D({className:e,...t}){return a.jsx(C,{"data-slot":"tabs-content",className:(0,Z.cn)("flex-1 outline-none",e),...t})}},2933:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},8998:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7636:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},4687:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`C:\Users\Happiness Cate\Desktop\ehr-frontend\app\login\page.tsx#default`)},4478:(e,t,s)=>{"use strict";s.d(t,{f:()=>l});var a=s(7577),r=s(5226),n=s(326),i=a.forwardRef((e,t)=>(0,n.jsx)(r.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=i},3405:(e,t,s)=>{"use strict";s.d(t,{D:()=>r});var a=s(7577);function r(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[836,94,206,884,654],()=>s(6702));module.exports=a})();